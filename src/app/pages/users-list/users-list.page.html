<ion-header>
  <ion-toolbar>
    <ion-title>LISTA UTENTI <ion-icon name="person-outline"></ion-icon>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-searchbar animated [debounce]="500" [(ngModel)]="term" (ngModelChange)="search()"></ion-searchbar>
  <ion-card>
    <ion-card-content>

      <ion-button shape="round" size="large" routerLink="/dashboard/user">
        <ion-icon name="add-outline"></ion-icon>
      </ion-button>

      <table class="default">
        <thead>
          <tr>
            <th>Numero UTENTE</th>
            <th>Nome UTENTE</th>
            <th>Email UTENTE</th>
            <th>RUOLO</th>
            <th>GESTISCI</th>
          </tr>
        </thead>
        <tbody *ngIf="!users.length">
          <tr>
            <td></td>
            <td style="text-align: right;">Nessun</td>
            <td style="text-align: left;">Utente</td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
        <tbody>
          <tr *ngFor="let user of users ,let i = index">
            <td> {{i+1}} </td>
            <td style="color: dodgerblue;"> {{user.username}} </td>
            <td style="color: dodgerblue;"><a href="mailto:{{user.email}}">{{user.email}}</a></td>
            <td style="color: dodgerblue;"> {{user.role.name}} </td>
            <td>
              <ion-button shape="round" [routerLink]="'/dashboard/user/' + user.id ">
                <ion-icon name="pencil-outline"></ion-icon>
              </ion-button>
              <ion-button color="danger" (click)="deleteUser(user.id)">
                <ion-icon name="trash-outline"></ion-icon>
              </ion-button>
            </td>
          </tr>
        </tbody>
      </table>

      <ion-button shape="round" (click)="getNextPage()">vedi altri...</ion-button>
    </ion-card-content>
  </ion-card>

</ion-content>